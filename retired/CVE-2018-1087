PublicDateAtUSN: 2018-05-08 17:00:00 UTC
Candidate: CVE-2018-1087
CRD: 2018-05-08 17:00:00 UTC
PublicDate: 2018-05-15 16:29:00 UTC
References:
 https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-1087
 https://usn.ubuntu.com/usn/usn-3641-1
 https://usn.ubuntu.com/usn/usn-3641-2
Description:
 kernel KVM before versions kernel 4.16, kernel 4.16-rc7, kernel 4.17-rc1,
 kernel 4.17-rc2 and kernel 4.17-rc3 is vulnerable to a flaw in the way the
 Linux kernel's KVM hypervisor handled exceptions delivered after a stack
 switch operation via Mov SS or Pop SS instructions. During the stack switch
 operation, the processor did not deliver interrupts and exceptions, rather
 they are delivered once the first instruction after the stack switch is
 executed. An unprivileged KVM guest user could use this flaw to crash the
 guest or, potentially, escalate their privileges in the guest.
Ubuntu-Description:
 Andy Lutomirski discovered that the KVM subsystem of the Linux kernel did
 not properly emulate the ICEBP instruction following a MOV/POP to SS
 instruction. A local attacker in a KVM virtual machine could use this to
 cause a denial of service (guest VM crash) or possibly escalate privileges
 inside of the virtual machine. This issue only affected the i386 and amd64
 architectures.
Notes:
 tyhicks> Thanks to Andy Lutomirski for help in Linux kernel research and test
  case
Bugs:
Priority: high
Discovered-by: Andy Lutomirski
Assigned-to: 
CVSS: CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H

Patches_linux:
 break-fix: 42dbaa5a057736bf8b5c22aa42dbe975bf1080e5 32d43cd391bacb5f0814c2624399a5dad3501d09
upstream_linux: released (4.16~rc7)
precise/esm_linux: released (3.2.0-134.180)
trusty_linux: released (3.13.0-147.196)
trusty/esm_linux: released (3.13.0-147.196)
xenial_linux: released (4.4.0-124.148)
artful_linux: released (4.13.0-41.46)
bionic_linux: not-affected (landed pre-release in 4.15.0-15.16)
devel_linux: not-affected (landed pre-release in 4.15.0-15.16)

Patches_linux-lts-trusty:
upstream_linux-lts-trusty: released (4.16~rc7)
precise/esm_linux-lts-trusty: released (3.13.0-147.196~precise1)
trusty_linux-lts-trusty: DNE
trusty/esm_linux-lts-trusty: DNE
xenial_linux-lts-trusty: DNE
artful_linux-lts-trusty: DNE
bionic_linux-lts-trusty: DNE
devel_linux-lts-trusty: DNE

Patches_linux-goldfish:
upstream_linux-goldfish: released (4.16~rc7)
precise/esm_linux-goldfish: DNE
trusty_linux-goldfish: ignored (abandoned)
trusty/esm_linux-goldfish: DNE (trusty was ignored [abandoned])
xenial_linux-goldfish: ignored (was needs-triage now end-of-life)
artful_linux-goldfish: DNE
bionic_linux-goldfish: DNE
devel_linux-goldfish: DNE

Patches_linux-grouper:
upstream_linux-grouper: released (4.16~rc7)
precise/esm_linux-grouper: DNE
trusty_linux-grouper: ignored (abandoned)
trusty/esm_linux-grouper: DNE (trusty was ignored [abandoned])
xenial_linux-grouper: DNE
artful_linux-grouper: DNE
bionic_linux-grouper: DNE
devel_linux-grouper: DNE

Patches_linux-maguro:
upstream_linux-maguro: released (4.16~rc7)
precise/esm_linux-maguro: DNE
trusty_linux-maguro: ignored (abandoned)
trusty/esm_linux-maguro: DNE (trusty was ignored [abandoned])
xenial_linux-maguro: DNE
artful_linux-maguro: DNE
bionic_linux-maguro: DNE
devel_linux-maguro: DNE

Patches_linux-mako:
upstream_linux-mako: released (4.16~rc7)
precise/esm_linux-mako: DNE
trusty_linux-mako: ignored (abandoned)
trusty/esm_linux-mako: DNE (trusty was ignored [abandoned])
xenial_linux-mako: ignored (abandoned)
artful_linux-mako: DNE
bionic_linux-mako: DNE
devel_linux-mako: DNE

Patches_linux-manta:
upstream_linux-manta: released (4.16~rc7)
precise/esm_linux-manta: DNE
trusty_linux-manta: ignored (abandoned)
trusty/esm_linux-manta: DNE (trusty was ignored [abandoned])
xenial_linux-manta: DNE
artful_linux-manta: DNE
bionic_linux-manta: DNE
devel_linux-manta: DNE

Patches_linux-flo:
upstream_linux-flo: released (4.16~rc7)
precise/esm_linux-flo: DNE
trusty_linux-flo: ignored (abandoned)
trusty/esm_linux-flo: DNE (trusty was ignored [abandoned])
xenial_linux-flo: ignored (abandoned)
artful_linux-flo: DNE
bionic_linux-flo: DNE
devel_linux-flo: DNE

Patches_linux-raspi2:
upstream_linux-raspi2: released (4.16~rc7)
precise/esm_linux-raspi2: DNE
trusty_linux-raspi2: DNE
trusty/esm_linux-raspi2: DNE
xenial_linux-raspi2: not-affected (x86 only)
artful_linux-raspi2: not-affected (x86 only)
bionic_linux-raspi2: not-affected (x86 only)
devel_linux-raspi2: not-affected (x86 only)

Patches_linux-lts-utopic:
upstream_linux-lts-utopic: released (4.16~rc7)
precise/esm_linux-lts-utopic: DNE
trusty_linux-lts-utopic: ignored (out of standard support)
trusty/esm_linux-lts-utopic: DNE (trusty was ignored [out of standard support])
xenial_linux-lts-utopic: DNE
artful_linux-lts-utopic: DNE
bionic_linux-lts-utopic: DNE
devel_linux-lts-utopic: DNE

Patches_linux-lts-vivid:
upstream_linux-lts-vivid: released (4.16~rc7)
precise/esm_linux-lts-vivid: DNE
trusty_linux-lts-vivid: ignored (out of standard support)
trusty/esm_linux-lts-vivid: DNE (trusty was ignored [out of standard support])
xenial_linux-lts-vivid: DNE
artful_linux-lts-vivid: DNE
bionic_linux-lts-vivid: DNE
devel_linux-lts-vivid: DNE

Patches_linux-lts-wily:
upstream_linux-lts-wily: released (4.16~rc7)
precise/esm_linux-lts-wily: DNE
trusty_linux-lts-wily: ignored (out of standard support)
trusty/esm_linux-lts-wily: DNE (trusty was ignored [out of standard support])
xenial_linux-lts-wily: DNE
artful_linux-lts-wily: DNE
bionic_linux-lts-wily: DNE
devel_linux-lts-wily: DNE

Patches_linux-krillin:
product_linux-krillin: not-affected (x86 only)

Patches_linux-vegetahd:
product_linux-vegetahd: not-affected (x86 only)

Patches_linux-lts-xenial:
upstream_linux-lts-xenial: released (4.16~rc7)
precise/esm_linux-lts-xenial: DNE
trusty_linux-lts-xenial: released (4.4.0-124.148~14.04.1)
trusty/esm_linux-lts-xenial: released (4.4.0-124.148~14.04.1)
xenial_linux-lts-xenial: DNE
artful_linux-lts-xenial: DNE
bionic_linux-lts-xenial: DNE
devel_linux-lts-xenial: DNE

Patches_linux-snapdragon:
upstream_linux-snapdragon: released (4.16~rc7)
precise/esm_linux-snapdragon: DNE
trusty_linux-snapdragon: DNE
trusty/esm_linux-snapdragon: DNE
xenial_linux-snapdragon: not-affected (x86 only)
artful_linux-snapdragon: not-affected (x86 only)
bionic_linux-snapdragon: not-affected
devel_linux-snapdragon: DNE

Patches_linux-aws:
upstream_linux-aws: released (4.16~rc7)
precise/esm_linux-aws: DNE
trusty_linux-aws: released (4.4.0-1019.19)
trusty/esm_linux-aws: released (4.4.0-1019.19)
xenial_linux-aws: released (4.4.0-1057.66)
artful_linux-aws: DNE
bionic_linux-aws: not-affected (4.15.0-1003.3)
devel_linux-aws: not-affected (4.15.0-1007.7)

Patches_linux-hwe:
upstream_linux-hwe: released (4.16~rc7)
precise/esm_linux-hwe: DNE
trusty_linux-hwe: DNE
trusty/esm_linux-hwe: DNE
xenial_linux-hwe: released (4.13.0-41.46~16.04.1)
artful_linux-hwe: DNE
bionic_linux-hwe: not-affected
devel_linux-hwe: DNE

Patches_linux-hwe-edge:
upstream_linux-hwe-edge: released (4.16~rc7)
precise/esm_linux-hwe-edge: DNE
trusty_linux-hwe-edge: DNE
trusty/esm_linux-hwe-edge: DNE
xenial_linux-hwe-edge: released (4.13.0-41.46~16.04.1)
artful_linux-hwe-edge: DNE
bionic_linux-hwe-edge: released (4.18.0-8.9~18.04.1)
devel_linux-hwe-edge: DNE

Patches_linux-gke:
upstream_linux-gke: released (4.16~rc7)
precise/esm_linux-gke: DNE
trusty_linux-gke: DNE
trusty/esm_linux-gke: DNE
xenial_linux-gke: ignored (was needs-triage now end-of-life)
artful_linux-gke: DNE
bionic_linux-gke: DNE
devel_linux-gke: DNE

Patches_linux-azure:
upstream_linux-azure: released (4.16~rc7)
precise/esm_linux-azure: DNE
trusty_linux-azure: not-affected (4.15.0-1023.24~14.04.1)
trusty/esm_linux-azure: not-affected (4.15.0-1023.24~14.04.1)
xenial_linux-azure: released (4.13.0-1016.19)
artful_linux-azure: DNE
bionic_linux-azure: not-affected (4.15.0-1004.4)
devel_linux-azure: not-affected (4.15.0-1009.9)

Patches_linux-gcp:
upstream_linux-gcp: released (4.16~rc7)
precise/esm_linux-gcp: DNE
trusty_linux-gcp: DNE
trusty/esm_linux-gcp: DNE
xenial_linux-gcp: released (4.13.0-1015.19)
artful_linux-gcp: DNE
bionic_linux-gcp: not-affected (4.15.0-1003.3)
devel_linux-gcp: not-affected (4.15.0-1006.6)

Patches_linux-kvm:
upstream_linux-kvm: released (4.16~rc7)
precise/esm_linux-kvm: DNE
trusty_linux-kvm: DNE
trusty/esm_linux-kvm: DNE
xenial_linux-kvm: released (4.4.0-1023.28)
artful_linux-kvm: DNE
bionic_linux-kvm: not-affected (4.15.0-1004.4)
devel_linux-kvm: not-affected (4.15.0-1008.8)

Patches_linux-euclid:
upstream_linux-euclid: released (4.16~rc7)
precise/esm_linux-euclid: DNE
trusty_linux-euclid: DNE
trusty/esm_linux-euclid: DNE
xenial_linux-euclid: released (4.4.0-9027.29)
artful_linux-euclid: DNE
bionic_linux-euclid: DNE
devel_linux-euclid: DNE

Patches_linux-oem:
upstream_linux-oem: released (4.16~rc7)
precise/esm_linux-oem: DNE
trusty_linux-oem: DNE
trusty/esm_linux-oem: DNE
xenial_linux-oem: released (4.13.0-1026.29)
artful_linux-oem: DNE
bionic_linux-oem: not-affected (4.15.0-1002.3)
devel_linux-oem: not-affected (4.15.0-1004.5)
