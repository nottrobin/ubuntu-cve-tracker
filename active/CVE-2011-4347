PublicDateAtUSN: 2011-11-25
Candidate: CVE-2011-4347
PublicDate: 2013-06-08
References:
 http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2011-4347
 http://www.openwall.com/lists/oss-security/2011/11/24/6
 http://thread.gmane.org/gmane.comp.emulators.kvm.devel/82043
 http://www.ubuntu.com/usn/usn-1389-1
 http://www.ubuntu.com/usn/usn-1407-1
 http://www.ubuntu.com/usn/usn-1409-1
 http://www.ubuntu.com/usn/usn-1405-1
 http://www.ubuntu.com/usn/usn-1406-1
 http://www.ubuntu.com/usn/usn-1421-1
 http://www.ubuntu.com/usn/usn-1422-1
 http://www.ubuntu.com/usn/usn-1425-1
 http://www.ubuntu.com/usn/usn-1426-1
 http://www.ubuntu.com/usn/usn-1431-1
 http://www.ubuntu.com/usn/usn-1433-1
 http://www.ubuntu.com/usn/usn-1440-1
Description:
 The kvm_vm_ioctl_assign_device function in virt/kvm/assigned-dev.c in the
 KVM subsystem in the Linux kernel before 3.1.10 does not verify permission
 to access PCI configuration space and BAR resources, which allows host OS
 users to assign PCI devices and cause a denial of service (host OS crash)
 via a KVM_ASSIGN_PCI_DEVICE operation.

 Please note that privileged access was still needed to re-program the
 device to for example issue DMA requests. This is typically achieved by
 touching files on sysfs filesystem. These files are usually not
 accessible to unprivileged users.

 As a result, local user could use this flaw to crash the system.
Ubuntu-Description:
 Sasha Levin discovered a flaw in the permission checking for device
 assignments requested via the kvm ioctl in the Linux kernel. A local user
 could use this flaw to crash the system causing a denial of service.
Notes:
Bugs:
 https://bugzilla.redhat.com/show_bug.cgi?id=756084
 https://launchpad.net/bugs/897812
Priority: low
Discovered-by: Sasha Levin
Assigned-to: 

Patches_linux:
 break-fix: 4d5c5d0fe89c921336b95f5e7e4f529a9df92f53 3d27e23b17010c668db311140b17bbbb70c78fb9
 break-fix: 4d5c5d0fe89c921336b95f5e7e4f529a9df92f53 423873736b78f549fbfa2f715f2e4de7e6c5e1e9
upstream_linux: released (3.2)
hardy_linux: not-affected
lucid_linux: released (2.6.32-41.88)
maverick_linux: released (2.6.35-32.68)
natty_linux: released (2.6.38-14.58)
oneiric_linux: released (3.0.0-18.31)
precise_linux: not-affected (3.2.0-8.14)
devel_linux: not-affected (3.2.0-8.14)

Patches_linux-ec2:
upstream_linux-ec2: released (3.2)
hardy_linux-ec2: DNE
lucid_linux-ec2: released (2.6.32-345.47)
maverick_linux-ec2: ignored (binary supplied by "linux" now)
natty_linux-ec2: DNE
oneiric_linux-ec2: DNE
precise_linux-ec2: DNE
devel_linux-ec2: DNE

Patches_linux-mvl-dove:
upstream_linux-mvl-dove: released (3.2)
hardy_linux-mvl-dove: DNE
lucid_linux-mvl-dove: not-affected (no KVM on ARM)
maverick_linux-mvl-dove: not-affected (no KVM on ARM)
natty_linux-mvl-dove: DNE
oneiric_linux-mvl-dove: DNE
precise_linux-mvl-dove: DNE
devel_linux-mvl-dove: DNE

Patches_linux-ti-omap4:
upstream_linux-ti-omap4: released (3.2)
hardy_linux-ti-omap4: DNE
lucid_linux-ti-omap4: DNE
maverick_linux-ti-omap4: not-affected (no KVM on ARM)
natty_linux-ti-omap4: not-affected (no KVM on ARM)
oneiric_linux-ti-omap4: not-affected (no KVM on ARM)
precise_linux-ti-omap4: not-affected (no KVM on ARM)
devel_linux-ti-omap4: DNE

Patches_linux-lts-backport-maverick:
upstream_linux-lts-backport-maverick: released (3.2)
hardy_linux-lts-backport-maverick: DNE
lucid_linux-lts-backport-maverick: released (2.6.35-32.68~lucid1)
maverick_linux-lts-backport-maverick: DNE
natty_linux-lts-backport-maverick: DNE
oneiric_linux-lts-backport-maverick: DNE
precise_linux-lts-backport-maverick: DNE
devel_linux-lts-backport-maverick: DNE

Patches_linux-fsl-imx51:
upstream_linux-fsl-imx51: released (3.2)
hardy_linux-fsl-imx51: DNE
lucid_linux-fsl-imx51: not-affected (no KVM on ARM)
maverick_linux-fsl-imx51: DNE
natty_linux-fsl-imx51: DNE
oneiric_linux-fsl-imx51: DNE
precise_linux-fsl-imx51: DNE
devel_linux-fsl-imx51: DNE

Patches_linux-lts-backport-natty:
upstream_linux-lts-backport-natty: released (3.2)
hardy_linux-lts-backport-natty: DNE
lucid_linux-lts-backport-natty: released (2.6.38-14.58~lucid1)
maverick_linux-lts-backport-natty: DNE
natty_linux-lts-backport-natty: DNE
oneiric_linux-lts-backport-natty: DNE
precise_linux-lts-backport-natty: DNE
devel_linux-lts-backport-natty: DNE

Patches_linux-lts-backport-oneiric:
upstream_linux-lts-backport-oneiric: released (3.2)
hardy_linux-lts-backport-oneiric: DNE
lucid_linux-lts-backport-oneiric: released (3.0.0-18.31~lucid1)
maverick_linux-lts-backport-oneiric: DNE
natty_linux-lts-backport-oneiric: DNE
oneiric_linux-lts-backport-oneiric: DNE
precise_linux-lts-backport-oneiric: DNE
devel_linux-lts-backport-oneiric: DNE

Patches_linux-armadaxp:
upstream_linux-armadaxp: released (3.2)
hardy_linux-armadaxp: DNE
lucid_linux-armadaxp: DNE
natty_linux-armadaxp: DNE
oneiric_linux-armadaxp: DNE
precise_linux-armadaxp: not-affected (3.2.0-1600.1)
devel_linux-armadaxp: DNE

Patches_linux-goldfish:
upstream_linux-goldfish: needs-triage
lucid_linux-goldfish: DNE
precise_linux-goldfish: DNE
quantal_linux-goldfish: DNE
saucy_linux-goldfish: ignored
devel_linux-goldfish: needs-triage

Patches_linux-grouper:
upstream_linux-grouper: needs-triage
lucid_linux-grouper: DNE
precise_linux-grouper: DNE
quantal_linux-grouper: DNE
saucy_linux-grouper: ignored
devel_linux-grouper: needs-triage

Patches_linux-maguro:
upstream_linux-maguro: needs-triage
lucid_linux-maguro: DNE
precise_linux-maguro: DNE
quantal_linux-maguro: DNE
saucy_linux-maguro: ignored
devel_linux-maguro: needs-triage

Patches_linux-mako:
upstream_linux-mako: needs-triage
lucid_linux-mako: DNE
precise_linux-mako: DNE
quantal_linux-mako: DNE
saucy_linux-mako: ignored
devel_linux-mako: needs-triage

Patches_linux-manta:
upstream_linux-manta: needs-triage
lucid_linux-manta: DNE
precise_linux-manta: DNE
quantal_linux-manta: DNE
saucy_linux-manta: ignored
devel_linux-manta: needs-triage

Patches_linux-flo:
upstream_linux-flo: needs-triage
lucid_linux-flo: DNE
precise_linux-flo: DNE
quantal_linux-flo: DNE
saucy_linux-flo: DNE
devel_linux-flo: needs-triage
quantal_linux: not-affected
quantal_linux-armadaxp: not-affected
quantal_linux-ec2: DNE
quantal_linux-fsl-imx51: DNE
quantal_linux-lts-backport-maverick: DNE
quantal_linux-lts-backport-natty: DNE
quantal_linux-lts-backport-oneiric: DNE
quantal_linux-mvl-dove: DNE
quantal_linux-ti-omap4: not-affected
saucy_linux: not-affected
saucy_linux-armadaxp: DNE
saucy_linux-ec2: DNE
saucy_linux-fsl-imx51: DNE
saucy_linux-lts-backport-maverick: DNE
saucy_linux-lts-backport-natty: DNE
saucy_linux-lts-backport-oneiric: DNE
saucy_linux-mvl-dove: DNE
saucy_linux-ti-omap4: not-affected
